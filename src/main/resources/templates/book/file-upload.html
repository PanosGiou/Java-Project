<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
 xmlns:th="http://www.thymeleaf.org" xmlns:sec="http://www.thymeleaf.org/extras/spring-security">

<head>
  	  <title>Upload Image</title>
	  <meta charset="utf-8">
	  <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
	  <meta http-equiv="x-ua-compatible" content="ie=edge">
	  <!-- Bootstrap core CSS -->
	  <link href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta/css/bootstrap.min.css" rel="stylesheet">
	  <!-- Material Design Bootstrap -->
	  <link href="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.4.1/css/mdb.min.css" rel="stylesheet">
	  <!-- Font Awesome -->
	  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome-animation/0.0.10/font-awesome-animation.min.css">
	  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
		
		<script src="https://code.jquery.com/jquery-3.1.1.slim.min.js" integrity="sha384-A7FZj7v+d/sdmMqp/nOQwliLvUsJfDHW+k9Omg/a/EheAdgtzNs3hpfag6Ed950n" crossorigin="anonymous"></script>
 	  <link rel="shortcut icon" href="https://mdbootstrap.com/wp-content/themes/mdbootstrap4/favicon.ico">
	
	  <style>
	    / TEMPLATE STYLES /
	    main {
	      padding-top: 3rem;
	      padding-bottom: 2rem;
	    }
	    .extra-margins {
	      margin-top: 1rem;
	      margin-bottom: 2.5rem;
	    }
	  </style>
	  <link th:href="@{/css/file-upload.css}" href="/css/file-upload.css" rel="stylesheet" type="text/css" /> 
 <link th:href="@{/css/footer.css}" href="/css/footer.css" rel="stylesheet" type="text/css" />
</head>

<body>
	<div th:replace="/navbar :: navbar"> </div>

 <div class="container" style="margin-top:5%">

<form role="form" method="POST" th:action="@{/file-upload}" th:object="${image}" enctype="multipart/form-data">
<div class="col-lg-10 col-xl-7 mx-auto">
				<div class="card card-signin flex-row my-5">
					<div class="card-img-left d-none d-md-flex">
						<!-- Background image for card set in CSS! -->
					</div>
					<div class="card-body">
  <div class="row">
	    <div class="col">
	    	<div class="md-form mt-0">
		      <label for="title">Title</label>
		      <input type="text" class="form-control" th:field="*{title}" id="title" th:required="required">
		    </div>
	    </div>
	    <div class="col">
	    <div class="md-form mt-0">
	      <label for="region">Region</label>
	      <input type="text" class="form-control" th:field="*{region}" id="region" th:required="required"> 
	      </div>
	    </div>
	    <div class="col">
	    <div class="md-form mt-0">
	      <label for="price">Price</label>
	      <input type="number" class="form-control" th:field="*{price}" id="price" min="0" th:required="required">
	      </div>
	    </div>
  </div>
  <div class="form-group">
	    <label for="description">Description</label>
	    <textarea rows="3"class="form-control" th:field="*{description}" id="description" th:required="required"></textarea>
  </div>
   <div class="form-group">
	    <label for="cancellationPolicy">Cancellation Policy</label>
	    <textarea rows="3"class="form-control" th:field="*{cancellationPolicy}"id="cancellationPolicy" th:required="required"></textarea>
  </div>
  
   <div class="form-row">
   <div class="form-group col-md">
  	<div class="input-group">
	  <div class="input-group-prepend">
	    <span class="input-group-text" id="inputGroupFileAddon01">Upload</span>
	  </div>
	  <div class="custom-file">
	    <input type="file" class="custom-file-input" id="inputGroupFile01" name="file" accept="image/x-png,image/jpeg,image/jpg" 
	      aria-describedby="inputGroupFileAddon01" th:required="required">
	    <label class="custom-file-label" for="inputGroupFile01" >Choose file</label>
	  </div>
	  </div>
	</div>
  </div> 
  
  		<script>
            $('#inputGroupFile01').on('change',function(){
                //get the file name
                var fileName = $(this).val();
                fileName = fileName.substring(fileName.lastIndexOf("\\") + 1, fileName.length);
                //replace the "Choose a file" label
                $(this).next('.custom-file-label').html(fileName);
            })
        </script>
  
<div class="form-row">
    <div class="form-group col-md" style="text-align: center;">
    <div class="alert alert-success" role="alert" th:if="${msg}" th:utext="${msg}"></div>
  <button type="submit" class="btn btn-primary">Upload</button>
  </div>
  </div>
  
  </div>
  </div>
  </div>
</form>

</div>

<div th:replace="/footer :: footer"></div>
	 <!-- JQuery -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.2.1/jquery.min.js"></script>
  <!-- Bootstrap tooltips -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/popper.js/1.11.0/umd/popper.min.js"></script>
  <!-- Bootstrap core JavaScript -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/4.0.0-beta/js/bootstrap.min.js"></script>
  <!-- MDB core JavaScript -->
  <script type="text/javascript" src="https://cdnjs.cloudflare.com/ajax/libs/mdbootstrap/4.4.1/js/mdb.min.js"></script>
</body>
</html>